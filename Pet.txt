click==8.0.1
Flask==2.0.1
itsdangerous==2.0.1
Jinja2==3.0.1
MarkupSafe==2.0.1
psycopg2-binary==2.9.1
redis==3.5.3
Werkzeug==2.0.1

Serv: ssh user_105@23.88.52.139, password: 123
DB: 159.69.151.133:5056, Database: user_20_db, Username: user_20, Password: 123
DB diagram: https://drawsql.app/myowncompany/diagrams/cto#

Done:
	/login
	/reg
	/cl
	/all
	/user_info
	/new_storage_order
	/change_storage_order
	/new_user_vehicle
	/change_user_info
	/delete_user
	/deactivate_user
	/activate_user
	
ToDo: 
	- update the token's TTL in the redis db after each user action
	- delete storage order
	- delete vehicle
	- list of available storage spaces in the warehouse
*	- create cost_of_storage table (price list? any discout? so many questions!)
*	- alter column cost in the storage_orders table (calculate costs)
	- create sub_types table
	- create subscription table
	- create tire_service table
	- swagger
	

/login [POST] - login user
	input:  
			email				- required
			pass				- required
		
	output: 
			Hello message
			email
			token
			user_id

	if email does not exist in DB: note
		if pass does not valid: note
			if token exists in the redis db: set new ex time and return the token
			else: 
				generate new token, add to the redis db and return it


/reg [POST] - register a new user
	input: 
			f_name				- required
			l_name				- required
			email				- required
			phone				- required
			passw				- required
		   
	output: 
			user_id
			f_name
			l_name
			email
			phone
			passw
			
	if email does not exisis in the DB: note and redirect to /reg
	else: 
		add new user to the DB and return info from the DB with user_id

	
/cl [GET] - clear users DB


/all [GET] - get a list of all users
	output:
			user_id
			f_name			
			l_name
			email
			phone
			passw
	
	if there are no users in the DB: note


/user_info [POST] - get info about the logged user
	input: 
			email				- required
			token				- required

	output:
			user_id
			f_name
			l_name
			email
			phone
			passw
	
	if email does not exist in the DB: return "The user does not exist. Please, register" and redirect to /reg
		if the token does not exist in redis db: redirect to /login
			return info

	
/new_storage_order [POST] - create new storage order
	input:
			token				- required
			email				- required
			start_date			- required
			stop_date			- required
			size_name			- required
	
	output:
			email
			start_date
			stop_date
			size_id
			shelf_id
			st_ord_id

	if email does not exist in the DB: return "The user does not exist. Please, register" and redirect to /reg
		if the token does not exist in redis db: redirect to /login
			if there is no available shelf of the size needed in the warehouse: note		
				add in the "storage_order" base info about the storage order
				update in the "warehouse" base availability of the occupied storage place

				
/change_storage_order [POST] - suddenly, change the data in the storage order				
	input:
			st_ord_id 			- required
			email				- required
			token				- required
			start_date			- optional
			stop_date			- optional
			st_ord_cost			- optional
			size_id				- optional
			
	output:
			st_ord_id
			start_date
			stop_date
			size_id
			st_ord_cost
			shelf_id
	
	if email does not exist in the DB: return "The user does not exist. Please, register" and redirect to /reg
		if the token does not exist in redis db: redirect to /login
			if the provided dates are invalid: note
				if the optional data is None: take the data needed from DB
				if size_id is need to be changed make sure that the warehouse has an availabe shelf

				
/new_user_vehicle [POST] - add new user vehicle
	input:
			email				-required
			token				-required
			vehicle_name		-required
			size_name			-required
	
	output:
			u_veh_id
			vehicle_name
			size_name
			
	if email does not exist in the DB: return "The user does not exist. Please, register" and redirect to /reg
		if the token does not exist in redis db: redirect to /login
			if the vehcile type or tire size is not specified in the DB: note 
				add the date in to the DB
				
/change_user_info [PATCH] - suddenly, change the user info				
	input:
			email				- required
			token				- required
			f_name				- optional
			l_name				- optional
			new_email			- optional
			passw				- optional

			
	output:
			user_id
			f_name
			l_name
			email
			phone
			passw
	
	if email does not exist in the DB: return "The user does not exist. Please, register" and redirect to /reg
		if the token does not exist in redis db: redirect to /login
			if the optional data is None: take the data needed from DB
				if the password and/or email have been changed - the user must log in again
				
/delete_user [POST] - delete the user and any data from other tables associated with the user
	input:
			email				- required
			token				- required
			ARE_YOU_SURE?		- required
			
	output:
			sad message
			
	if email does not exist in the DB: return "The user does not exist. Please, register" and redirect to /reg
		if the token does not exist in redis db: redirect to /login
			if the "ARE_YOU_SURE?" value is not 'True': return a funny message
			
/deactivate_user [POST] - guess what?
	input:	
			email				- required
			token				- required
			ARE_YOU_SURE?		- required
	
	output:
			message
			
	if email does not exist in the DB: return "The user does not exist. Please, register" and redirect to /reg
		if the token does not exist in redis db: redirect to /login
			if the user has already been deactivated: return a message
				if the "ARE_YOU_SURE?" value is not 'True': return a funny message
				
/activate_user [POST] - really?
	input:	
			email				- required
			token				- required
	
	output:
			message
			
	if email does not exist in the DB: return "The user does not exist. Please, register" and redirect to /reg
		if the token does not exist in redis db: redirect to /login
			